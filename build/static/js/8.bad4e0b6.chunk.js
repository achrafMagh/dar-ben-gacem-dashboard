(this["webpackJsonpdar-bengacem-admin"]=this["webpackJsonpdar-bengacem-admin"]||[]).push([[8],{111:function(e,a,t){"use strict";var s=t(166),n=t.n(s),r=t(14),c=t.n(r);const i=n.a.create({baseURL:"".concat("https://api.darbengacem.com/api/v1"),timeout:5e4,headers:{Accept:"application/json","Content-Type":"application/json"}});i.interceptors.request.use((function(e){let a,t;return c.a.get("adminInfo")&&(a=JSON.parse(c.a.get("adminInfo"))),c.a.get("company")&&(t=c.a.get("company")),{...e,headers:{authorization:a?"Bearer ".concat(a.token):null,company:t||null}}}));const l=e=>e.data,o={get:(e,a,t)=>i.get(e,a,t).then(l),post:(e,a)=>i.post(e,a).then(l),put:(e,a,t)=>i.put(e,a,t).then(l),patch:(e,a)=>i.patch(e,a).then(l),delete:(e,a)=>i.delete(e,a).then(l)};a.a=o},128:function(e,a,t){"use strict";t(0);var s=t(1);a.a=e=>{let{errorName:a}=e;return Object(s.jsx)(s.Fragment,{children:a&&Object(s.jsx)("span",{className:"text-red-400 text-sm mt-2",children:a.message})})}},129:function(e,a,t){"use strict";t(0);var s=t(35),n=t(1);a.a=e=>{let{label:a}=e;return Object(n.jsx)(s.Label,{className:"col-span-4 sm:col-span-2 font-medium text-sm",children:a})}},146:function(e,a,t){"use strict";t(0);var s=t(35),n=t(1);a.a=e=>{let{register:a,defaultValue:t,required:r,name:c,label:i,type:l,placeholder:o}=e;return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(s.Input,{...a("".concat(c),{required:!r&&"".concat(i," is required!")}),defaultValue:t,type:l,placeholder:o,name:c,className:"border h-12 text-sm focus:outline-none block w-full bg-gray-100 dark:bg-white border-transparent focus:bg-white"})})}},244:function(e,a,t){"use strict";var s=t(111);const n={registerAdmin:async e=>s.a.post("/admin/register",e),loginAdmin:async e=>s.a.post("/admins/login",e),forgetPassword:async e=>s.a.put("/admin/forget-password",e),resetPassword:async e=>s.a.put("/admin/reset-password",e),addStaff:async e=>s.a.post("/admin/add",e),getAllStaff:async e=>s.a.get("/admin",e),getStaffById:async(e,a)=>s.a.post("/admin/".concat(e),a),updateStaff:async(e,a)=>s.a.put("/admin/".concat(e),a),updateStaffStatus:async(e,a)=>s.a.put("/admin/update-status/".concat(e),a),deleteStaff:async e=>s.a.delete("/admin/".concat(e))};a.a=n},782:function(e,a,t){"use strict";t.r(a);var s=t(0),n=t(35),r=t(86),c=t(128),i=t(129),l=t(146),o=t.p+"static/media/login-office-light.44062941.jpg",d=t.p+"static/media/login-office-dark.44062941.jpg",m=t(14),u=t.n(m),p=t(160),b=t(3),j=t(23),g=t(244),f=t(37);var h=()=>{const[e,a]=Object(s.useState)(!1),{dispatch:t}=Object(s.useContext)(j.a),n=Object(b.g)(),r=Object(b.h)(),{register:c,handleSubmit:i,formState:{errors:l}}=Object(p.a)();return{onSubmit:e=>{let{email:s,password:c}=e;a(!0);"/login"===r.pathname&&g.a.loginAdmin({email:s,password:c}).then((e=>{e&&(a(!1),Object(f.c)("Login Success!"),t({type:"USER_LOGIN",payload:e}),u.a.set("adminInfo",JSON.stringify(e),{expires:.5}),n.replace("/"))})).catch((e=>{Object(f.b)("Login Failed! Please try again."),a(!1)}))},register:c,handleSubmit:i,errors:l,loading:e}},x=t(1);a.default=()=>{const{t:e}=Object(r.a)(),{onSubmit:a,register:t,handleSubmit:s,errors:m,loading:u}=h();return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)("div",{className:"flex items-center min-h-screen p-6 bg-gray-50 dark:bg-gray-900",children:Object(x.jsx)("div",{className:"flex-1 h-full max-w-4xl mx-auto overflow-hidden bg-white rounded-lg shadow-xl dark:bg-gray-800",children:Object(x.jsxs)("div",{className:"flex flex-col overflow-y-auto md:flex-row",children:[Object(x.jsxs)("div",{className:"h-32 md:h-auto md:w-1/2",children:[Object(x.jsx)("img",{"aria-hidden":"true",className:"object-cover w-full h-full dark:hidden",src:o,alt:"Office"}),Object(x.jsx)("img",{"aria-hidden":"true",className:"hidden object-cover w-full h-full dark:block",src:d,alt:"Office"})]}),Object(x.jsx)("main",{className:"flex items-center justify-center p-6 sm:p-12 md:w-1/2",children:Object(x.jsxs)("div",{className:"w-full",children:[Object(x.jsx)("h1",{className:"mb-6 text-2xl font-semibold text-gray-700 dark:text-gray-200",children:"Login"}),Object(x.jsxs)("form",{onSubmit:s(a),children:[Object(x.jsx)(i.a,{label:"Email"}),Object(x.jsx)(l.a,{register:t,label:"Email",name:"email",type:"email",placeholder:"example@gmail.com"}),Object(x.jsx)(c.a,{errorName:m.email}),Object(x.jsx)("div",{className:"mt-6"}),Object(x.jsx)(i.a,{label:"Password"}),Object(x.jsx)(l.a,{register:t,label:"Password",name:"password",type:"password",placeholder:"***************"}),Object(x.jsx)(c.a,{errorName:m.password}),Object(x.jsx)(n.Button,{color:"#00a6b6",disabled:u,type:"submit",className:"mt-4 h-12 w-full",to:"/press",children:"Login"})]})]})})]})})})})}}}]);
//# sourceMappingURL=8.bad4e0b6.chunk.js.map